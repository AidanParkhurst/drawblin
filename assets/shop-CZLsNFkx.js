import"./auth-BhlDiXPq.js";const g={premium:{key:"premium",title:"Premium Membership",desc:"Access all bundles this month for a simple recurring fee. New drops included while active.",images:["https://placehold.co/800x600/FFF/444?text=Premium+Overview","https://placehold.co/800x600/FFF/777?text=Included+Bundles","https://placehold.co/800x600/FFF/999?text=Future+Drops"]},critter:{key:"critter",title:"The Critter Pet Pack",desc:"Adorable companions that follow your goblin around. Includes multiple species and colors.",images:["https://placehold.co/800x600/FFF/AAA?text=Critter+1","https://placehold.co/800x600/FFF/AAE?text=Critter+2","https://placehold.co/800x600/FFF/AFA?text=Critter+3"]},bling:{key:"bling",title:"The Winner Bling Bundle",desc:"Crowns, sparkles, and shiny bits to flex your style. Winner or not, you will look the part.",images:["https://placehold.co/800x600/FFF/DAA?text=Bling+1","https://placehold.co/800x600/FFF/ADA?text=Bling+2","https://placehold.co/800x600/FFF/AAD?text=Bling+3"]},poppin:{key:"poppin",title:"The Poppin Goblin Pack",desc:"Extra animations and pops for your goblin. Bring the party wherever you go.",images:["https://placehold.co/800x600/FFF/8AD?text=Poppin+1","https://placehold.co/800x600/FFF/8DA?text=Poppin+2","https://placehold.co/800x600/FFF/D8A?text=Poppin+3"]}};function o(e,t=document){return t.querySelector(e)}function h(e,t=document){return Array.from(t.querySelectorAll(e))}function k(e){const t=o("#deal-modal");if(!t)return;t.style.display="block",t.setAttribute("aria-hidden","false");const d=o(".modal__title",t),c=o(".modal__desc",t),u=o(".carousel__image",t),f=o(".carousel__thumbs",t);d.textContent=e.title,c.textContent=e.desc;let a=0;function p(n){a=(n+e.images.length)%e.images.length,u.src=e.images[a],h(".carousel__thumb",t).forEach((s,i)=>{i===a?s.classList.add("carousel__thumb--active"):s.classList.remove("carousel__thumb--active")})}f.innerHTML="",e.images.forEach((n,s)=>{const i=document.createElement("button");i.className="carousel__thumb",i.type="button",i.title=`Image ${s+1}`;const r=document.createElement("img");r.alt=`Image ${s+1}`,r.src=n,r.style.maxWidth="100%",r.style.maxHeight="100%",i.appendChild(r),i.addEventListener("click",()=>p(s)),f.appendChild(i)}),p(0);const y=()=>p(a-1),F=()=>p(a+1),b=o('[data-action="prev"]',t),A=o('[data-action="next"]',t),_=h('[data-action="close"]',t);b.onclick=y,A.onclick=F,_.forEach(n=>n.onclick=m);const x=n=>{t.getAttribute("aria-hidden")!=="true"&&(n.key==="Escape"&&m(),n.key==="ArrowLeft"&&y(),n.key==="ArrowRight"&&F())};document.addEventListener("keydown",x),t._cleanup=()=>document.removeEventListener("keydown",x);const l=o("#modal-buy",t);l&&(l.onclick=()=>{l.disabled=!0,l.textContent="Purchased!",setTimeout(()=>{l.disabled=!1,l.textContent="Buy!"},1500)})}function m(){const e=o("#deal-modal");if(e&&(e.style.display="none",e.setAttribute("aria-hidden","true"),typeof e._cleanup=="function")){try{e._cleanup()}catch{}e._cleanup=null}}function v(){const e=o("#shop-grid");e&&h(".shop-card",e).forEach(t=>{const d=t.getAttribute("data-key");t.addEventListener("click",()=>{const c=g[d];c&&k(c)}),t.addEventListener("keydown",c=>{if(c.key==="Enter"||c.key===" "){c.preventDefault();const u=g[d];u&&k(u)}})})}function E(){const e=o("#deal-modal");if(!e)return;const t=o(".modal__backdrop",e);t&&t.addEventListener("click",m)}document.addEventListener("DOMContentLoaded",()=>{v(),E()});
