import{a as i}from"./auth-BhlDiXPq.js";const o=document.getElementById("status"),t=(e,n="#d35400")=>{o.textContent=e||"",o.style.color=n};await i.initAuth();i.isAuthConfigured()||t("Auth not configured. Add SUPABASE keys to enable login.");document.getElementById("google").addEventListener("click",async()=>{try{t("Redirecting to Google...");const e=new URL("./login",window.location.href).toString();await i.signInWithGoogle(e)}catch(e){t(e.message||"Google sign-in failed")}});const d=document.getElementById("email-form"),a=document.getElementById("email"),s=document.getElementById("password"),c=document.getElementById("signup");d.addEventListener("submit",async e=>{e.preventDefault();try{t("Signing in...");const{error:n}=await i.signInWithEmail(a.value,s.value);if(n)throw n;t("Signed in! Redirecting...","#2d8a34"),setTimeout(()=>window.location.assign("./index.html"),500)}catch(n){t(n.message||"Sign in failed")}});c.addEventListener("click",async()=>{try{t("Creating account...");const{error:e}=await i.signUpWithEmail(a.value,s.value);if(e)throw e;t("Check your email to confirm your account.","#2d8a34")}catch(e){t(e.message||"Sign up failed")}});window.addEventListener("auth:user-changed",e=>{e.detail?.user&&(t("Signed in! Redirecting...","#2d8a34"),setTimeout(()=>window.location.assign("./index.html"),500))});
